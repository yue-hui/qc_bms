(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-66a3"],{"/qIs":function(t,e,i){},"1gAd":function(t,e,i){},FyfS:function(t,e,i){t.exports={default:i("Rp86"),__esModule:!0}},Rp86:function(t,e,i){i("bBy9"),i("FlQf"),t.exports=i("fXsU")},VdPR:function(t,e){t.exports="data:image/png;base64,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"},fXsU:function(t,e,i){var s=i("5K7Z"),a=i("fNZA");t.exports=i("WEpk").getIterator=function(t){var e=a(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return s(e.call(t))}},qm9P:function(t,e,i){"use strict";var s=i("/qIs");i.n(s).a},uCZj:function(t,e,i){"use strict";i.r(e);var s=i("QbLZ"),a=i.n(s),o=i("GQeE"),n=i.n(o),r=i("FyfS"),c=i.n(r),l=i("gDS+"),u=i.n(l),f=i("z0WU"),d=i("S583"),_={name:"ParameterDialog",props:{showDialog:{type:Boolean,required:!0,default:!1},isNew:{type:Number,required:!0,default:0},rid:{type:String,default:""}},data:function(){return{dialog_title_name:"高危应用",is_busy:!1,form:{soft_id:"",bundle_id:"",soft_name:"",soft_icon:"",type_code:""},rules:{bundle_id:[{required:!0,trigger:"blur",message:"包名为必填项"},{required:!0,max:1024,message:"包名长度过长"}],soft_name:[{required:!0,trigger:"blur",message:"软件名称为必填项"},{required:!0,max:512,message:"软件名称长度过长"}],soft_icon:[{required:!1,trigger:"blur"}],type_code:[{type:"number",trigger:"blur",validator:function(t,e,i){"number"==typeof e||/^[0-9]+$/.test(e)?i():i(new Error("code必须为数字"))}},{required:!0,trigger:"blur",message:"code为必填项"}]}}},computed:{title:function(){return 1===this.isNew?"创建"+this.dialog_title_name:"编辑"+this.dialog_title_name},show_save_label:function(){return 1===this.isNew?"创 建":"保 存"}},watch:{},mounted:function(){1===this.isNew?this.form=this.init_application_version():2===this.isNew&&this.fetch_pannel_data()},methods:{init_application_version:function(){return{soft_id:"",bundle_id:"",soft_name:"",soft_icon:"",type_code:""}},fetch_pannel_data:function(){var t=this,e={soft_id:this.rid};Object(d.eb)(e).then(function(e){if(0===e.status){var i=e.data;t.form.soft_id=i.soft_id,t.form.bundle_id=i.bundle_id,t.form.soft_name=i.soft_name,t.form.soft_icon=i.soft_icon,t.form.type_code=i.type_code}else t.$message.error(e.message)})},close_dialog:function(){var t=this;this.$confirm("确认关闭？").then(function(e){t.cancel_dialog()}).catch(function(t){})},create_high_risk_item:function(){var t=this;this.is_busy=!0;var e=Object(f.q)(this.form);Object(d.c)(e).then(function(e){0===e.status?t.$emit("destory",!0):(t.$message.error(e.message),t.$emit("destory",!1))}).finally(function(){t.is_busy=!1})},edit_high_risk_item:function(){var t=this;this.is_busy=!0;var e=Object(f.q)(this.form);Object(d.B)(e).then(function(e){0===e.status?t.$emit("destory",!0):(t.$message.error(e.message),t.$emit("destory",!1))}).finally(function(){t.is_busy=!1})},create_update_strage:function(){var t=this;this.$refs.form.validate(function(e){e&&(1===t.isNew?t.create_high_risk_item():t.edit_high_risk_item())})},cancel_dialog:function(){this.$emit("destory",!1)}}},m=(i("qm9P"),i("KHd+")),p=Object(m.a)(_,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"component-card"},[i("el-dialog",{attrs:{title:t.title,visible:t.showDialog,"before-close":t.close_dialog,width:"40%"},on:{"update:visible":function(e){t.showDialog=e}}},[i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-suffix":":",size:"mini","label-width":"120px"}},[2===t.isNew?i("el-form-item",{attrs:{label:"软件ID",prop:"app_version"}},[i("el-input",{attrs:{disabled:"",placeholder:"请输入目标版本号"},model:{value:t.form.soft_id,callback:function(e){t.$set(t.form,"soft_id",e)},expression:"form.soft_id"}})],1):t._e(),t._v(" "),i("el-form-item",{attrs:{label:"包名",prop:"bundle_id"}},[i("el-input",{attrs:{placeholder:"请输入软件包名"},model:{value:t.form.bundle_id,callback:function(e){t.$set(t.form,"bundle_id",e)},expression:"form.bundle_id"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"软件名称",prop:"soft_name"}},[i("el-input",{attrs:{placeholder:"请输入软件名称"},model:{value:t.form.soft_name,callback:function(e){t.$set(t.form,"soft_name",e)},expression:"form.soft_name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"软件图标",prop:"soft_icon"}},[i("el-input",{attrs:{placeholder:"请输入软件图标链接"},model:{value:t.form.soft_icon,callback:function(e){t.$set(t.form,"soft_icon",e)},expression:"form.soft_icon"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"code",prop:"type_code"}},[i("el-input",{attrs:{placeholder:"请输入code"},model:{value:t.form.type_code,callback:function(e){t.$set(t.form,"type_code",e)},expression:"form.type_code"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:t.cancel_dialog}},[t._v("取 消")]),t._v(" "),i("gl-button",{attrs:{disabled:t.is_busy,pid:"10087,10054",type:"primary",size:"mini"},on:{click:t.create_update_strage}},[t._v(t._s(t.show_save_label))])],1)],1)],1)},[],!1,null,"63b6375a",null).exports,h=i("YP4+"),g=i("X4fA"),b={components:{CreateAndEditHighRiskApplication:p},filters:{formatter_date_string:function(t){return t?Object(f.b)(t,h.o):""}},data:function(){var t='this.src="'+i("VdPR")+'"',e=Object(g.a)();return{loading:!1,img_error_icon:t,show_records_pannel:!1,query_sets:{item_name:""},packages:h.F,status_list:h.E,current_soft_id:"",action:0,parameter:[],page:1,page_size:e,page_sizes:h.T,total:0}},computed:{},mounted:function(){this.fetch_data()},methods:{destory_pannel:function(t){t&&this.fetch_data(),this.action=0,this.show_records_pannel=!1},create_high_risk_app:function(){this.action=1,this.current_soft_id="",this.show_records_pannel=!0},get_condition:function(){var t=JSON.parse(u()(this.query_sets)),e={},i=!0,s=!1,a=void 0;try{for(var o,r=c()(n()(t));!(i=(o=r.next()).done);i=!0){var l=o.value;t[l]&&(e[l]=t[l])}}catch(t){s=!0,a=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw a}}return e.page_no=this.page,e.page_num=this.page_size,e},get_condition_with_pagination:function(){var t=this.get_condition();return t.page_no=this.page,t.page_num=this.page_size,t},query_condition_change:function(){this.page=1,this.page_size=Object(g.a)(),this.query()},query:function(){this.fetch_data()},table_size_change:function(t){this.page_size=t,Object(g.d)(t),this.fetch_data()},change_current:function(t){this.page=t,this.fetch_data()},delete_configration:function(t){var e=this;this.$confirm("你确定要删除该高危应用吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i={soft_id:t.soft_id};Object(d.q)(i).then(function(t){0===t.status?(e.query.item_name="",e.fetch_data(),e.$message.success(t.message)):e.$message.error(t.message)})}).catch(function(){e.$message.info("用户已取消操作")})},close_package_dialog:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.action=0,this.current={},t&&this.fetch_data()},edit_configration:function(t){this.action=2,this.current_soft_id=t.soft_id,this.show_records_pannel=!0},fetch_data:function(){var t=this,e=this.get_condition();this.loading=!0,Object(d.fb)(e).then(function(e){0===e.status?(t.parameter=e.data.map(function(t,e){return a()({},t)}),t.total=e.total_count):t.$message.error(e.message)}).finally(function(){t.loading=!1})}}},v=(i("uIgG"),Object(m.a)(b,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"content-body"},[s("div",{staticClass:"search-area"},[s("el-row",{staticClass:"row-bg",attrs:{gutter:10}},[s("el-col",{staticClass:"col-bg",attrs:{xs:12,sm:8,md:6,lg:5,xl:4}},[s("div",{staticClass:"grid-content bg-purple"},[s("el-row",[s("el-col",{staticClass:"order-number-list",attrs:{span:8}},[t._v("模糊搜索:")]),t._v(" "),s("el-col",{attrs:{span:16}},[s("el-input",{attrs:{size:"mini",placeholder:"软件名称",clearable:""},on:{change:t.query_condition_change},model:{value:t.query_sets.soft_name,callback:function(e){t.$set(t.query_sets,"soft_name",e)},expression:"query_sets.soft_name"}})],1)],1)],1)]),t._v(" "),s("el-col",{staticClass:"col-bg layout-right",attrs:{xs:12,sm:8,md:18,lg:19,xl:20}},[s("div",{staticClass:"grid-content bg-purple-light"},[s("el-row",[s("gl-button",{attrs:{pid:"20062",size:"mini",type:"success"},on:{click:t.create_high_risk_app}},[t._v("新建")])],1)],1)])],1)],1),t._v(" "),s("div",{staticClass:"between-search-area-and-table-display"}),t._v(" "),s("div",{staticClass:"table-content table-block"},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.parameter,size:"mini",stripe:""}},[s("el-table-column",{attrs:{label:"软件ID",prop:"soft_id"}}),t._v(" "),s("el-table-column",{attrs:{label:"包名",width:"400",prop:"bundle_id"}}),t._v(" "),s("el-table-column",{attrs:{label:"软件名称",prop:"soft_name"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"soft-item"},[e.row.soft_icon?s("img",{staticClass:"origin",attrs:{src:e.row.soft_icon,onerror:t.img_error_icon,alt:"软件图标"}}):s("img",{staticClass:"default",attrs:{src:i("VdPR"),title:"软件默认图标",alt:"软件默认图标"}}),t._v(" "),s("span",{staticClass:"soft-name",class:{origin:!!e.row.soft_icon}},[t._v(t._s(e.row.soft_name))])])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"code",prop:"type_code"}}),t._v(" "),s("el-table-column",{attrs:{label:"创建时间",prop:"create_time"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t._f("formatter_date_string")(e.row.create_time))+"\n          ")]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"操作",prop:"control"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("gl-button",{attrs:{pid:"20084",size:"small",type:"text"},on:{click:function(i){return t.edit_configration(e.row)}}},[t._v("编辑")]),t._v(" "),s("gl-button",{attrs:{pid:"20085",size:"small",type:"text"},on:{click:function(i){return t.delete_configration(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),s("el-pagination",{attrs:{"current-page":t.page,"page-size":t.page_size,"page-sizes":t.page_sizes,total:t.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"current-change":t.change_current,"size-change":t.table_size_change}})],1)]),t._v(" "),0!==t.action?s("create-and-edit-high-risk-application",{attrs:{"show-dialog":t.show_records_pannel,"is-new":t.action,rid:t.current_soft_id},on:{destory:t.destory_pannel}}):t._e()],1)},[],!1,null,"51d08e0f",null));e.default=v.exports},uIgG:function(t,e,i){"use strict";var s=i("1gAd");i.n(s).a}}]);