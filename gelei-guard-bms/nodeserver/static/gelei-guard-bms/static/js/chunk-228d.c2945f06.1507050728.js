(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-228d"],{Mm6z:function(e,t,n){},Yfch:function(e,t,n){"use strict";function r(e){return!0}function i(e){return/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(e)}function s(e){return/^[\u4e00-\u9fa5]+$/.test(e)?{status:!0,message:"检验中文字符成功"}:{status:!1,message:"不包含中文字符"}}function a(e){var t="密码必须是8-16位字符且包含大小写字母、数字和殊字字符";return/[0-9]/.test(e)&&/[a-zA-Z]/.test(e)&&/[~!@#$%^&*()_+\{\}|":?><\-=\[\];',.]/.test(e)&&/^([a-zA-Z0-9~!@#$%^&*()_+\{\}|":?><\-=\[\];',.]){8,16}$/.test(e)?{status:!0,message:"校验通过"}:{status:!1,message:t}}function o(e){return/^[a-z,A-Z,0-9]+@[a-z,A-Z]+\.[a-z,A-Z]+$/.test(e)?{status:!0,message:"邮箱地址正确"}:{status:!1,message:"邮箱地址有误，请输入有效的邮箱地址"}}n.d(t,"a",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return o})},c11S:function(e,t,n){"use strict";var r=n("gTgX");n.n(r).a},gTgX:function(e,t,n){},ntYl:function(e,t,n){"use strict";n.r(t);var r=n("Yfch"),i=n("fe1z"),s=n("YP4+"),a=n("z0WU"),o={name:"Login",data:function(){return{password_min_length:s.I,password_max_length:s.H,verify_code_loading:!0,loginForm:{username:"",password:"",verify:"",verify_uid:""},loginRules:{username:[{required:!0,trigger:"blur",validator:function(e,t,n){Object(r.a)(t)?n():n(new Error("请输入正确的用户名"))}}],password:[{required:!0,trigger:"blur",validator:function(e,t,n){var i=Object(r.d)(t);i.status?n():n(new Error(i.message))}}],verify:[{required:!0,trigger:"blur",type:"string",message:"请输入验证码"},{trigger:"blur",len:4,type:"string",message:"验证码长度为4位"}]},loading:!1,pwdType:"password",redirect:s.z,verify_data:"",SYSTEM_CONSTANT:s.T}},watch:{$route:{handler:function(e){var t=e.query&&e.query.redirect||s.z;this.redirect=decodeURIComponent(t)},immediate:!0}},beforeMount:function(){this.loginForm.verify_uid=Object(a.n)(),this.refreshVerifyCode()},methods:{showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(t){if(!t)return!1;e.loading=!0,e.$store.dispatch("Login",e.loginForm).then(function(){e.loading=!1;var t=e.redirect;e.$router.push({path:t})}).catch(function(){e.loading=!1})})},refreshVerifyCode:function(){var e=this,t={type:"3",val:this.loginForm.verify_uid};this.verify_code_loading=!0,Object(i.b)(t).then(function(t){0===t.status?e.verify_data=t.data:e.$message.info(t.message)}).finally(function(){e.verify_code_loading=!1})}}},l=(n("c11S"),n("rFjP"),n("KHd+")),u=Object(l.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[n("h3",{staticClass:"title"},[e._v(e._s(e.SYSTEM_CONSTANT.name))]),e._v(" "),n("el-form-item",{attrs:{prop:"username"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),n("el-input",{attrs:{"auto-complete":"on",name:"username",type:"text",placeholder:"请输入用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),n("el-input",{attrs:{type:e.pwdType,minlength:e.password_min_length,maxlength:e.password_max_length,name:"password","auto-complete":"on",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e._v(" "),n("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[n("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{prop:"verify"}},[n("div",{staticClass:"verify-code-div"},[n("div",{staticClass:"verify-left"},[n("el-input",{attrs:{placeholder:"请输入验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.verify,callback:function(t){e.$set(e.loginForm,"verify",t)},expression:"loginForm.verify"}})],1),e._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.verify_code_loading,expression:"verify_code_loading"}],staticClass:"verify-right"},[e.verify_data?[n("img",{staticClass:"verify-code",attrs:{src:e.verify_data,alt:"验证码"},on:{click:e.refreshVerifyCode}})]:e._e()],2)])]),e._v(" "),n("el-form-item",[n("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录\n      ")])],1)],1)],1)},[],!1,null,"19ba9a87",null);t.default=u.exports},rFjP:function(e,t,n){"use strict";var r=n("Mm6z");n.n(r).a}}]);