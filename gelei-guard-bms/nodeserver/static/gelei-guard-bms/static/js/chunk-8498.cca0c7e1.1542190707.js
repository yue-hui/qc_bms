(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8498","chunk-7491"],{"+BHT":function(e,t,r){},11:function(e,t){},12:function(e,t){},"12yw":function(e,t,r){"use strict";r.d(t,"h",function(){return n}),r.d(t,"b",function(){return a}),r.d(t,"g",function(){return u}),r.d(t,"f",function(){return o}),r.d(t,"e",function(){return i}),r.d(t,"d",function(){return l}),r.d(t,"a",function(){return s}),r.d(t,"c",function(){return c});var n=[{value:"01",label:"启动中"},{value:"00",label:"未启动"},{value:"02",label:"已停止"}],a=[{value:"1",label:"格雷盒子家长端",select_item:{update_platforms:[{value:"01",label:"IOS家长端"},{value:"11",label:"安卓家长端"}],update_models:[{value:"0",label:"推荐升级",disabled:!1},{value:"1",label:"强制升级",disabled:!1}],update_ranges:[{value:"01",label:"全量"},{value:"03",label:"用户手机"}]}},{value:"2",label:"格雷盒子孩子端",select_item:{update_platforms:[{value:"02",label:"IOS孩子端"},{value:"F2",label:"安卓孩子端"}],update_models:[{value:"0",label:"推荐升级",disabled:!0},{value:"1",label:"强制升级",disabled:!1}],update_ranges:[{value:"01",label:"全量"},{value:"02",label:"设备ID白名单"}]}},{value:"3",label:"定制机孩子端",select_item:{update_platforms:[{value:"12",label:"VIVO孩子端"},{value:"22",label:"OPPO孩子端"},{value:"42",label:"小格雷定制机"},{value:"52",label:"小米企业模式"},{value:"62",label:"VIVO政企Y3"}],update_models:[{value:"0",label:"推荐升级",disabled:!0},{value:"1",label:"强制升级",disabled:!1}],update_ranges:[{value:"01",label:"全量"},{value:"02",label:"设备ID白名单"}]}},{value:"4",label:"中间件",select_item:{update_platforms:[{value:"13",label:"VIVO中间件"},{value:"23",label:"OPPO中间件"},{value:"43",label:"小格雷中间件"},{value:"53",label:"小米企业模式中间件"},{value:"63",label:"VIVO政企Y3中间件"}],update_models:[{value:"0",label:"推荐升级",disabled:!1},{value:"1",label:"强制升级",disabled:!1}],update_ranges:[{value:"01",label:"全量"},{value:"02",label:"设备ID白名单"}]}}],u=[{value:"01",label:"IOS家长端"},{value:"11",label:"安卓家长端"},{value:"02",label:"IOS孩子端"},{value:"F2",label:"安卓孩子端"},{value:"12",label:"vivo孩子端"},{value:"22",label:"oppo孩子端"},{value:"42",label:"小格雷定制机"},{value:"52",label:"小米企业模式孩子端"},{value:"62",label:"vivo Y3孩子端"},{value:"13",label:"vivo中间件"},{value:"23",label:"oppo中间件"},{value:"43",label:"小格雷中间件"},{value:"53",label:"小米企业模式中间件"},{value:"63",label:"vivo Y3中间件"}],o=[{value:"01",label:"IOS家长端"},{value:"11",label:"安卓家长端"},{value:"02",label:"IOS孩子端"},{value:"F2",label:"安卓孩子端"},{value:"12",label:"vivo孩子端"},{value:"22",label:"oppo安卓孩子端"},{value:"42",label:"小格雷定制机"},{value:"52",label:"小米企业模式孩子端"},{value:"62",label:"vivo Y3孩子端"},{value:"13",label:"孩子端+vivo中间件"},{value:"23",label:"孩子端+oppo中间件"},{value:"43",label:"孩子端+小格雷中间件"},{value:"53",label:"小米企业模式中间件"},{value:"63",label:"vivo Y3中间件"}],i=[{value:"0",label:"待生效"},{value:"1",label:"已生效"}],l=[{value:"",label:"不限"},{value:"01",label:"PC"},{value:"02",label:"IOS"},{value:"03",label:"Android"}],s=[{value:"00",label:"不限"},{value:"01",label:"PC"},{value:"02",label:"IOS"},{value:"03",label:"Android"}],c=[{value:"01",label:"PC端"},{value:"02",label:"苹果"},{value:"03",label:"安卓"}]},13:function(e,t){},14:function(e,t){},15:function(e,t){},16:function(e,t){},17:function(e,t){},18:function(e,t){},19:function(e,t){},20:function(e,t){},21:function(e,t){},22:function(e,t){},23:function(e,t){},24:function(e,t){},25:function(e,t){},OkP0:function(e,t,r){"use strict";var n=r("ilBh");r.n(n).a},OvEM:function(e,t,r){"use strict";var n=r("+BHT");r.n(n).a},S583:function(e,t,r){"use strict";r.d(t,"ub",function(){return a}),r.d(t,"tb",function(){return u}),r.d(t,"sb",function(){return o}),r.d(t,"O",function(){return i}),r.d(t,"N",function(){return l}),r.d(t,"eb",function(){return s}),r.d(t,"db",function(){return c}),r.d(t,"Vb",function(){return d}),r.d(t,"wb",function(){return f}),r.d(t,"xb",function(){return m}),r.d(t,"vb",function(){return p}),r.d(t,"Xb",function(){return g}),r.d(t,"qb",function(){return _}),r.d(t,"cc",function(){return b}),r.d(t,"Y",function(){return h}),r.d(t,"ab",function(){return v}),r.d(t,"Tb",function(){return O}),r.d(t,"X",function(){return y}),r.d(t,"Z",function(){return j}),r.d(t,"yb",function(){return w}),r.d(t,"Ab",function(){return k}),r.d(t,"g",function(){return x}),r.d(t,"ec",function(){return z}),r.d(t,"zb",function(){return $}),r.d(t,"r",function(){return C}),r.d(t,"Sb",function(){return q}),r.d(t,"Rb",function(){return S}),r.d(t,"Qb",function(){return I}),r.d(t,"Nb",function(){return B}),r.d(t,"Pb",function(){return E}),r.d(t,"Ob",function(){return H}),r.d(t,"Mb",function(){return P}),r.d(t,"Ub",function(){return U}),r.d(t,"U",function(){return D}),r.d(t,"T",function(){return A}),r.d(t,"ib",function(){return T}),r.d(t,"l",function(){return N}),r.d(t,"G",function(){return V}),r.d(t,"L",function(){return F}),r.d(t,"ac",function(){return R}),r.d(t,"Eb",function(){return Y}),r.d(t,"k",function(){return J}),r.d(t,"K",function(){return W}),r.d(t,"Fb",function(){return M}),r.d(t,"F",function(){return Z}),r.d(t,"v",function(){return L}),r.d(t,"u",function(){return K}),r.d(t,"S",function(){return X}),r.d(t,"b",function(){return Q}),r.d(t,"t",function(){return G}),r.d(t,"bc",function(){return ee}),r.d(t,"y",function(){return te}),r.d(t,"R",function(){return re}),r.d(t,"rb",function(){return ne}),r.d(t,"nb",function(){return ae}),r.d(t,"ob",function(){return ue}),r.d(t,"P",function(){return oe}),r.d(t,"o",function(){return ie}),r.d(t,"e",function(){return le}),r.d(t,"dc",function(){return se}),r.d(t,"lb",function(){return ce}),r.d(t,"kb",function(){return de}),r.d(t,"mb",function(){return fe}),r.d(t,"d",function(){return me}),r.d(t,"C",function(){return pe}),r.d(t,"M",function(){return ge}),r.d(t,"a",function(){return _e}),r.d(t,"x",function(){return be}),r.d(t,"n",function(){return he}),r.d(t,"Wb",function(){return ve}),r.d(t,"Cb",function(){return Oe}),r.d(t,"j",function(){return ye}),r.d(t,"E",function(){return je}),r.d(t,"J",function(){return we}),r.d(t,"Bb",function(){return ke}),r.d(t,"Yb",function(){return xe}),r.d(t,"Hb",function(){return ze}),r.d(t,"Gb",function(){return $e}),r.d(t,"Ib",function(){return Ce}),r.d(t,"m",function(){return qe}),r.d(t,"H",function(){return Se}),r.d(t,"s",function(){return Ie}),r.d(t,"cb",function(){return Be}),r.d(t,"bb",function(){return Ee}),r.d(t,"c",function(){return He}),r.d(t,"A",function(){return Pe}),r.d(t,"q",function(){return Ue}),r.d(t,"gb",function(){return De}),r.d(t,"fb",function(){return Ae}),r.d(t,"B",function(){return Te}),r.d(t,"z",function(){return Ne}),r.d(t,"V",function(){return Ve}),r.d(t,"W",function(){return Fe}),r.d(t,"jb",function(){return Re}),r.d(t,"hb",function(){return Ye}),r.d(t,"w",function(){return Je}),r.d(t,"Db",function(){return We}),r.d(t,"pb",function(){return Me}),r.d(t,"f",function(){return Ze}),r.d(t,"D",function(){return Le}),r.d(t,"p",function(){return Ke}),r.d(t,"Lb",function(){return Xe}),r.d(t,"i",function(){return Qe}),r.d(t,"I",function(){return Ge}),r.d(t,"Zb",function(){return et}),r.d(t,"Kb",function(){return tt}),r.d(t,"Q",function(){return rt}),r.d(t,"Jb",function(){return nt}),r.d(t,"h",function(){return at});var n=r("t3Un");function a(){return Object(n.a)({url:"/greenguard/common/order/type/list",method:"post"})}function u(){return Object(n.a)({url:"/greenguard/common/order/status/list",method:"post"})}function o(){return Object(n.a)({url:"/greenguard/common/order/paytype/list",method:"post"})}function i(){return Object(n.a)({url:"/greenguard/common/advertising/type/list",method:"post"})}function l(){return Object(n.a)({url:"/greenguard/common/advertising/point/list",method:"post"})}function s(){return Object(n.a)({url:"/greenguard/manager/index/summary",method:"post"})}function c(e){return Object(n.a)({url:"/greenguard/manager/index/list",method:"post",data:e})}function d(e){return Object(n.a)({url:"/greenguard/common/user/reg_from/list",method:"post",data:e})}function f(e){return Object(n.a)({url:"/greenguard/manager/user/patriarch/list",method:"post",data:e})}function m(e){return Object(n.a)({url:"/greenguard/manager/user/patriarch/list/export",method:"post",data:e})}function p(e){return Object(n.a)({url:"/greenguard/manager/user/patriarch/detail",method:"post",data:e})}function g(e){return Object(n.a)({url:"/greenguard/manager/member/monthlyplan/unsubscribe/ctccsp",method:"post",data:e})}function _(e){return Object(n.a)({url:"/greenguard/manager/member/monthlyplan/unsubscribe/list",method:"post",data:e})}function b(e){return Object(n.a)({url:"/greenguard/manager/device/unbind",method:"post",data:e})}function h(e){return Object(n.a)({url:"/greenguard/manager/user/patriarch/child_device/record/list",method:"post",data:e})}function v(e){return Object(n.a)({url:"/greenguard/manager/device/info/list",method:"post",data:e})}function O(e){return Object(n.a)({url:"/greenguard/manager/user/child/list",method:"post",data:e})}function y(e){return Object(n.a)({url:"/greenguard/manager/user/child/list/export",method:"post",data:e})}function j(e){return Object(n.a)({url:"/greenguard/manager/device/getAppUsage",method:"post",data:e})}function w(e){return Object(n.a)({url:"/greenguard/manager/qa/type/list",method:"post",data:e})}function k(e){return Object(n.a)({url:"/greenguard/manager/qa/list",method:"post",data:e})}function x(e){return Object(n.a)({url:"/greenguard/manager/qa/add",method:"post",data:e})}function z(e){return Object(n.a)({url:"/greenguard/manager/qa/edit",method:"post",data:e})}function $(e){return Object(n.a)({url:"/greenguard/manager/qa/detail",method:"post",data:e})}function C(e){return Object(n.a)({url:"/greenguard/manager/qa/delete",method:"post",data:e})}function q(e){return Object(n.a)({url:"/greenguard/manager/user/analyze/summary",method:"post",data:e})}function S(e){return Object(n.a)({url:"/greenguard/manager/user/analyze/list",method:"post",data:e})}function I(e){return Object(n.a)({url:"/greenguard/manager/user/analyze/child/summary",method:"post",data:e})}function B(e){return Object(n.a)({url:"/greenguard/manager/user/analyze/child/increased",method:"post",data:e})}function E(e){return Object(n.a)({url:"/greenguard/manager/user/analyze/child/increased/bind_user",method:"post",data:e})}function H(e){return Object(n.a)({url:"/greenguard/manager/user/analyze/child/increased/bind_device",method:"post",data:e})}function P(e){return Object(n.a)({url:"/greenguard/manager/user/analyze/child/list",method:"post",data:e})}function U(e){return Object(n.a)({url:"/greenguard/manager/user/analyze/increased",method:"post",data:e})}function D(e){return Object(n.a)({url:"/greenguard/manager/user/analyze/increased/bind_user",method:"post",data:e})}function A(e){return Object(n.a)({url:"/greenguard/manager/user/analyze/increased/bind_device",method:"post",data:e})}function T(e){return Object(n.a)({url:"/greenguard/manager/soft/recommend/list",method:"post",data:e})}function N(e){return Object(n.a)({url:"/greenguard/manager/soft/recommend/add",method:"post",data:e})}function V(e){return Object(n.a)({url:"/greenguard/manager/soft/recommend/edit",method:"post",data:e})}function F(e){return Object(n.a)({url:"/greenguard/manager/soft/recommend/delete",method:"post",data:e})}function R(e){return Object(n.a)({url:"/greenguard/manager/soft/recommend/mark/search",method:"post",data:e})}function Y(e){return Object(n.a)({url:"/greenguard/manager/soft/recommend/group/list",method:"post",data:e})}function J(e){return Object(n.a)({url:"/greenguard/manager/soft/recommend/group/add",method:"post",data:e})}function W(e){return Object(n.a)({url:"/greenguard/manager/soft/recommend/group/delete",method:"post",data:e})}function M(e){return Object(n.a)({url:"/greenguard/manager/soft/recommend/group/detail",method:"post",data:e})}function Z(e){return Object(n.a)({url:"/greenguard/manager/soft/recommend/group/edit",method:"post",data:e})}function L(e){return Object(n.a)({url:"/greenguard/manager/soft/recommend/group/publish",method:"post",data:e})}function K(e){return Object(n.a)({url:"/greenguard/manager/qa/publish",method:"post",data:e})}function X(e){return Object(n.a)({url:"/greenguard/manager/app/version/list",method:"post",data:e})}function Q(e){return Object(n.a)({url:"/greenguard/manager/app/version/add",method:"post",data:e})}function G(e){return Object(n.a)({url:"/greenguard/manager/app/version/startup",method:"post",data:e})}function ee(e){return Object(n.a)({url:"/greenguard/manager/app/version/send/command",method:"post",data:e})}function te(e){return Object(n.a)({url:"/greenguard/manager/app/version/update",method:"post",data:e})}function re(e){return Object(n.a)({url:"/greenguard/manager/app/version/get",method:"post",data:e})}function ne(e){return Object(n.a)({url:"/greenguard/manager/order/list",method:"post",data:e})}function ae(e){return Object(n.a)({url:"/greenguard/manager/member/plan/flow/list",method:"post",data:e})}function ue(e){return Object(n.a)({url:"/greenguard/manager/member/plan/list",method:"post",data:e})}function oe(e){return Object(n.a)({url:"/greenguard/manager/member/plan/list/all",method:"post",data:e})}function ie(e){return Object(n.a)({url:"/greenguard/manager/member/plan/delete",method:"post",data:e})}function le(e){return Object(n.a)({url:"/greenguard/manager/member/plan/add",method:"post",data:e})}function se(e){return Object(n.a)({url:"/greenguard/manager/member/plan/edit",method:"post",data:e})}function ce(e){return Object(n.a)({url:"/greenguard/manager/member/activity/list",method:"post",data:e})}function de(e){return Object(n.a)({url:"/greenguard/manager/member/activity/info",method:"post",data:e})}function fe(e){return Object(n.a)({url:"/greenguard/manager/member/activity/user/list",method:"post",data:e})}function me(e){return Object(n.a)({url:"/greenguard/manager/member/activity/add",method:"post",data:e})}function pe(e){return Object(n.a)({url:"/greenguard/manager/member/activity/edit",method:"post",data:e})}function ge(e){return Object(n.a)({url:"/greenguard/manager/advertising/list",method:"post",data:e})}function _e(e){return Object(n.a)({url:"/greenguard/manager/advertising/add",method:"post",data:e})}function be(e){return Object(n.a)({url:"/greenguard/manager/advertising/edit",method:"post",data:e})}function he(e){return Object(n.a)({url:"/greenguard/manager/advertising/delete",method:"post",data:e})}function ve(e){return Object(n.a)({url:"/greenguard/manager/app/version/distribution",method:"post",data:e})}function Oe(e){return Object(n.a)({url:"/greenguard/manager/soft/recommend/subject/list",method:"post",data:e})}function ye(e){return Object(n.a)({url:"/greenguard/manager/soft/recommend/subject/add",method:"post",data:e})}function je(e){return Object(n.a)({url:"/greenguard/manager/soft/recommend/subject/edit",method:"post",data:e})}function we(e){return Object(n.a)({url:"/greenguard/manager/soft/recommend/subject/delete",method:"post",data:e})}function ke(e){return Object(n.a)({url:"/greenguard/manager/soft/recommend/subject/detail",method:"post",data:e})}function xe(e){return Object(n.a)({url:"/greenguard/manager/soft/recommend/subject/publish",method:"post",data:e})}function ze(e){return Object(n.a)({url:"/greenguard/manager/sys/param/list",method:"post",data:e})}function $e(e){return Object(n.a)({url:"/greenguard/manager/sys/param/get",method:"post",data:e})}function Ce(e){return Object(n.a)({url:"/greenguard/manager/sys/param/get/type/list",method:"post",data:e})}function qe(e){return Object(n.a)({url:"/greenguard/manager/sys/param/add",method:"post",data:e})}function Se(e){return Object(n.a)({url:"/greenguard/manager/sys/param/edit",method:"post",data:e})}function Ie(e){return Object(n.a)({url:"/greenguard/manager/sys/param/delete",method:"post",data:e})}function Be(e){return Object(n.a)({url:"/greenguard/manager/risk/soft/list",method:"post",data:e})}function Ee(e){return Object(n.a)({url:"/greenguard/manager/risk/soft/get",method:"post",data:e})}function He(e){return Object(n.a)({url:"/greenguard/manager/risk/soft/add",method:"post",data:e})}function Pe(e){return Object(n.a)({url:"/greenguard/manager/risk/soft/edit",method:"post",data:e})}function Ue(e){return Object(n.a)({url:"/greenguard/manager/risk/soft/delete",method:"post",data:e})}function De(e){return Object(n.a)({url:"/greenguard/manager/user/invite/register/statistics/list",method:"post",data:e})}function Ae(){return Object(n.a)({url:"/greenguard/manager/user/invite/register/activity/info",method:"post"})}function Te(e){return Object(n.a)({url:"/greenguard/manager/user/invite/register/activity/edit",method:"post",data:e})}function Ne(e){return Object(n.a)({url:"/greenguard/manager/channel/saveOrUpdate",method:"post",data:e})}function Ve(e){return Object(n.a)({url:"/greenguard/manager/channel/info",method:"post",data:e})}function Fe(e){return Object(n.a)({url:"/greenguard/manager/channel/list",method:"post",data:e})}function Re(e){return Object(n.a)({url:"/greenguard/manager/voice/query/record",method:"post",data:e})}function Ye(e){return Object(n.a)({url:"/greenguard/manager/sms/query/record",method:"post",data:e})}function Je(e){return Object(n.a)({url:"/greenguard/manager/user/profile/unbind",method:"post",data:e})}function We(e){return Object(n.a)({url:"/greenguard/manager/index/querySoftByBundleId",method:"post",data:e})}function Me(e){return Object(n.a)({url:"/greenguard/manager/miniprogram/list",method:"post",data:e})}function Ze(e){return Object(n.a)({url:"/greenguard/manager/miniprogram/add",method:"post",data:e})}function Le(e){return Object(n.a)({url:"/greenguard/manager/miniprogram/edit",method:"post",data:e})}function Ke(e){return Object(n.a)({url:"/greenguard/manager/miniprogram/del",method:"post",data:e})}function Xe(e){return Object(n.a)({url:"/greenguard/manager/user/list",method:"post",data:e})}function Qe(e){return Object(n.a)({url:"/greenguard/manager/user/saveOrUpdate",method:"post",data:e})}function Ge(e){return Object(n.a)({url:"/greenguard/manager/user/updateState",method:"post",data:e})}function et(e){return Object(n.a)({url:"/greenguard/manager/user/password/reset",method:"post",data:e})}function tt(e){return Object(n.a)({url:"/greenguard/manager/sysRole/list",method:"post",data:e})}function rt(e){return Object(n.a)({url:"/greenguard/manager/sysRole/list/all",method:"post",data:e})}function nt(e){return Object(n.a)({url:"/ns-permission/roles/greenguard/manager/sysRole/info",method:"post",data:e})}function at(e){return Object(n.a)({url:"/ns-permission/roles/greenguard/manager/sysRole/saveOrUpdate",method:"post",data:e})}},ZbUW:function(e,t,r){"use strict";r.r(t);var n=r("QbLZ"),a=r.n(n),u=r("12yw"),o=r("S583"),i=r("YP4+"),l=r("Zkmf"),s=r("z0WU"),c={name:"VersionDialog",props:{showDialog:{type:Boolean,required:!0,default:!1},isNew:{type:Boolean,required:!0,default:!1},rid:{type:String,default:""}},data:function(){var e=this,t=[],r=[],n=[];u.b.length&&(t=u.b[0].select_item.update_platforms,r=u.b[0].select_item.update_ranges,n=u.b[0].select_item.update_models);return{bms_platform_classification:u.b,update_platforms:t,update_models:n,update_ranges:r,is_busy:!1,need_upload_app_package:!1,upload_file_list:[],form:{app_version:"",file_size:"",update_url:"",update_title:"",current_platform_classification:"",platform:"",is_force:"",publish_type:"",white_list:"",is_remind:"1",update_desc:"",start_strage:"1",end_strage:"1"},rules:{app_version:[{required:!0,trigger:"blur",message:"目标版本号不能为空"}],file_size:[{type:"string",required:!0,message:"包大小只能输入数字",trigger:"blur",pattern:i.J}],update_title:[{required:!0,trigger:"blur",message:"策略名称为必填项"},{max:12,trigger:"blur",message:"策略名称长度不能超过12个字"}],current_platform_classification:[{required:!0,trigger:"blur",message:"升级产品为必选项"}],platform:[{required:!0,trigger:"blur",message:"升级平台为必选项"}],is_force:[{required:!0,trigger:"blur",message:"升级方式为必选项"}],publish_type:[{trigger:"blur",validator:function(e,t,n){0!==r.length?t?n():n(new Error("升级范围请选择全量或白名单")):n()}}],white_list:[{trigger:"blur",validator:function(t,r,n){-1!==["02","03"].indexOf(e.form.publish_type)?e.form.white_list?n():n(new Error("白名单不能为空")):n()}}],start_strage:[{required:!0,trigger:"blur",message:"策略启动条件为必选项"}],end_strage:[{required:!0,trigger:"blur",message:"策略停止条件为必选项"}],is_remind:[{required:!0,trigger:"blur",message:"自动弹框规则为必选项"}],update_desc:[{required:!0,trigger:"blur",message:"升级说明不能为空"}]}}},computed:{title:function(){return this.isNew?"创建升级应用策略":"编辑升级应用策略"},show_save_label:function(){return this.isNew?"创 建":"保 存"}},watch:{},mounted:function(){this.isNew?this.form=this.init_application_version():this.fetch_application_version()},methods:{init_application_version:function(){return{app_version:"",file_size:"",update_url:"",update_title:"",current_platform_classification:"",platform:"",is_force:"",publish_type:"",white_list:"",is_remind:"1",update_desc:"",start_strage:"1",end_strage:"1"}},reflect_platform_classification:function(e){var t,r=u.b[0];return u.b.map(function(t){t.select_item.update_platforms.map(function(n){n.value===e&&(r=t)})}),t=r.value,this.change_platform_classification(t),t},fetch_application_version:function(){var e=this,t={version_id:this.rid};Object(o.R)(t).then(function(t){if(0===t.status){var r=t.data,n=r.version,a=e.reflect_platform_classification(r.platform);e.form={app_version:n,version_id:r.version_id,file_size:r.file_size,update_url:r.update_url,update_title:r.update_title,current_platform_classification:a,platform:r.platform,is_force:r.is_force,publish_type:r.publish_type,white_list:r.white_list||"",is_remind:r.is_remind,update_desc:r.update_desc,start_strage:"1",end_strage:"1"}}else e.$message.error(t.message)})},change_platform_classification:function(e){var t=u.b.filter(function(t){return t.value===e})[0].select_item;this.update_platforms=t.update_platforms,this.update_ranges=t.update_ranges,this.update_models=t.update_models,this.form.platform="",this.need_upload_app_package=!1,this.form.update_url="",this.form.publish_type="",this.change_update_platform(e)},change_update_platform:function(e){-1!==["01","02"].indexOf(e)?this.need_upload_app_package=!1:this.need_upload_app_package=!0},push_picture_to_cloud:function(e){var t=this;if(this.upload_file_list>=1)this.$message.warning("只能上传一张图片");else{var r=e.file;this.form.update_url="",Object(l.a)(r).then(function(n){var a=n.data;if(-1!==[1,-2,"-2"].indexOf(a.status))Object(l.b)(r).then(function(r){var n=r.data;if(0===n.status){var a=n.data.url,u={name:e.file.name,url:a};t.upload_file_list.push(u),t.form.update_url=u.url}else t.$message.error(n.message)});else if(-1===a.status)t.$message.error(a.message);else if(0===a.status){var u=a.data.url,o={name:e.file.name,url:u};t.upload_file_list.push(o),t.form.update_url=o.url,t.$message.success("上传成功")}else t.$message.error(a.message)})}},remove_picture:function(){this.upload_file_list=[],this.form.update_url=""},close_dialog:function(){var e=this;this.$confirm("确认关闭？").then(function(t){e.cancel_dialog()}).catch(function(e){})},create_version:function(){var e=this,t=Object(s.q)(this.form);t.update_url||delete t.update_url,this.is_busy=!0,Object(o.b)(t).then(function(t){0===t.status?e.$emit("destory",!0):(e.$message.error(t.message),e.$emit("destory",!1))}).finally(function(){e.is_busy=!1})},edit_version:function(){var e=this,t=Object(s.q)(this.form);this.is_busy=!0,Object(o.y)(t).then(function(t){0===t.status?e.$emit("destory",!0):(e.$message.error(t.message),e.$emit("destory",!1))}).finally(function(){e.is_busy=!1})},create_update_strage:function(){var e=this;this.$refs.form.validate(function(t){t&&(e.isNew?e.create_version():e.edit_version())})},cancel_dialog:function(){this.$emit("destory",!1)}}},d=(r("kkwS"),r("KHd+")),f=Object(d.a)(c,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"component-card"},[r("el-dialog",{attrs:{title:e.title,visible:e.showDialog,"before-close":e.close_dialog,top:"0",size:"mini",width:"40%"},on:{"update:visible":function(t){e.showDialog=t}}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-suffix":":",size:"mini","label-width":"120px"}},[r("span",{staticClass:"group-title"},[e._v("目标版本信息")]),e._v(" "),r("hr",{staticClass:"diviser"}),e._v(" "),r("el-form-item",{attrs:{label:"目标版本号",prop:"app_version"}},[r("el-input",{attrs:{placeholder:"请输入目标版本号"},model:{value:e.form.app_version,callback:function(t){e.$set(e.form,"app_version",t)},expression:"form.app_version"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"包大小",prop:"file_size"}},[r("el-input",{attrs:{type:"number",placeholder:"请输入目标版本包大小"},model:{value:e.form.file_size,callback:function(t){e.$set(e.form,"file_size",t)},expression:"form.file_size"}},[r("template",{slot:"append"},[e._v("MB")])],2)],1),e._v(" "),r("span",{staticClass:"group-title"},[e._v("基础策略配置")]),e._v(" "),r("hr",{staticClass:"diviser"}),e._v(" "),r("el-form-item",{attrs:{label:"策略名称",prop:"update_title"}},[r("el-input",{attrs:{placeholder:"请输入策略名称"},model:{value:e.form.update_title,callback:function(t){e.$set(e.form,"update_title",t)},expression:"form.update_title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"升级产品",prop:"current_platform_classification"}},[r("el-select",{attrs:{size:"mini",placeholder:"升级产品"},on:{change:e.change_platform_classification},model:{value:e.form.current_platform_classification,callback:function(t){e.$set(e.form,"current_platform_classification",t)},expression:"form.current_platform_classification"}},e._l(e.bms_platform_classification,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"升级平台",prop:"platform"}},[r("el-radio-group",{model:{value:e.form.platform,callback:function(t){e.$set(e.form,"platform",t)},expression:"form.platform"}},[r("el-row",[r("el-col",e._l(e.update_platforms,function(t,n){return r("el-radio",{key:n,staticClass:"multi-radio-col",attrs:{label:t.value,title:t.label},on:{change:e.change_update_platform}},[e._v(e._s(t.label)+"\n              ")])}),1)],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"升级方式",prop:"is_force"}},[r("el-radio-group",{model:{value:e.form.is_force,callback:function(t){e.$set(e.form,"is_force",t)},expression:"form.is_force"}},e._l(e.update_models,function(t,n){return r("el-radio",{key:n,attrs:{disabled:t.disabled,label:t.value}},[e._v("\n            "+e._s(t.label)+"\n          ")])}),1)],1),e._v(" "),0!==e.update_ranges.length?r("el-form-item",{attrs:{label:"升级范围",prop:"publish_type"}},[r("el-radio-group",{model:{value:e.form.publish_type,callback:function(t){e.$set(e.form,"publish_type",t)},expression:"form.publish_type"}},e._l(e.update_ranges,function(t,n){return r("el-radio",{key:n,attrs:{label:t.value}},[e._v("\n            "+e._s(t.label)+"\n          ")])}),1)],1):e._e(),e._v(" "),0!==e.update_ranges.length?r("el-form-item",{attrs:{label:"",prop:"white_list"}},[r("el-input",{attrs:{disabled:-1===["02","03"].indexOf(e.form.publish_type),rows:3,resize:"none",type:"textarea"},model:{value:e.form.white_list,callback:function(t){e.$set(e.form,"white_list",t)},expression:"form.white_list"}})],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"升级地址",prop:"update_url"}},[r("el-input",{attrs:{placeholder:"请输入版本的升级地址"},model:{value:e.form.update_url,callback:function(t){e.$set(e.form,"update_url",t)},expression:"form.update_url"}})],1),e._v(" "),e.need_upload_app_package?r("el-form-item",{attrs:{label:""}},[r("el-upload",{staticClass:"upload-demo",attrs:{"http-request":e.push_picture_to_cloud,"on-remove":e.remove_picture,multiple:!1,limit:1,"file-list":e.upload_file_list,action:"","list-type":"picture"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1):e._e(),e._v(" "),r("span",{staticClass:"group-title"},[e._v("高级策略配置")]),e._v(" "),r("hr",{staticClass:"diviser"}),e._v(" "),r("el-form-item",{attrs:{label:"策略启动条件",prop:"start_strage"}},[r("el-radio",{attrs:{label:"1"},model:{value:e.form.start_strage,callback:function(t){e.$set(e.form,"start_strage",t)},expression:"form.start_strage"}},[e._v("手动启动")])],1),e._v(" "),r("el-form-item",{attrs:{label:"策略停止条件",prop:"end_strage"}},[r("el-radio",{attrs:{label:"1"},model:{value:e.form.end_strage,callback:function(t){e.$set(e.form,"end_strage",t)},expression:"form.end_strage"}},[e._v("手动停止")])],1),e._v(" "),r("el-form-item",{attrs:{label:"自动弹框规则",prop:"is_remind"}},[r("el-radio",{attrs:{label:"1"},model:{value:e.form.is_remind,callback:function(t){e.$set(e.form,"is_remind",t)},expression:"form.is_remind"}},[e._v("不限制(非强制升级用户可忽略弹窗)")])],1),e._v(" "),r("span",{staticClass:"group-title"},[e._v("其它")]),e._v(" "),r("hr",{staticClass:"diviser"}),e._v(" "),r("el-form-item",{attrs:{label:"升级说明",prop:"update_desc"}},[r("el-input",{attrs:{type:"textarea",rows:"4",placeholder:"升级说明",resize:"none"},model:{value:e.form.update_desc,callback:function(t){e.$set(e.form,"update_desc",t)},expression:"form.update_desc"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:e.cancel_dialog}},[e._v("取 消")]),e._v(" "),r("gl-button",{attrs:{disabled:e.is_busy,pid:"10016,10029",type:"primary",size:"mini"},on:{click:e.create_update_strage}},[e._v(e._s(e.show_save_label))])],1)],1)],1)},[],!1,null,"36419b14",null).exports,m={name:"SyncInstructions",props:{},data:function(){return{platform_version_instructions:u.f,platform_type:"",dialog_visible:!1,is_busy:!1}},computed:{},watch:{},mounted:function(){},methods:{handle_close:function(){var e=this;this.$confirm("确认关闭？").then(function(t){e.dialog_visible=!1,e.platform_type=""}).catch(function(e){})},close_panel:function(){this.dialog_visible=!1,this.platform_type=""},show_panel:function(){this.dialog_visible=!0},make_sure:function(){var e=this;""===this.platform_type?this.$message.warning("发送平台类型不能为空"):this.$confirm("你确定要创建同步版本指令么?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.sync_command_to_remote()}).catch(function(){e.$message({type:"info",message:"同步失败!"})})},sync_command_to_remote:function(){var e=this,t={platform:this.platform_type};this.is_busy=!0,Object(o.bc)(t).then(function(t){0===t.status?(e.dialog_visible=!1,e.$message.success(t.message)):e.$message.error(t.message)}).finally(function(){e.is_busy=!1})}}},p=(r("OkP0"),Object(d.a)(m,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"component-card"},[r("el-dialog",{attrs:{"before-close":e.handle_close,visible:e.dialog_visible,title:"发送同步版本指令",width:"40%",top:"30vh"},on:{"update:visible":function(t){e.dialog_visible=t}}},[r("span",{staticClass:"platform-group-title"},[e._v("发送平台类型")]),e._v(" "),r("hr",{staticClass:"diviser"}),e._v(" "),r("div",{staticClass:"platform-group"},[r("el-row",{attrs:{gutter:"24"}},e._l(e.platform_version_instructions,function(t,n){return r("el-col",{key:n,attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[r("el-radio",{staticClass:"multi-radio-col",attrs:{label:t.value},model:{value:e.platform_type,callback:function(t){e.platform_type=t},expression:"platform_type"}},[e._v(e._s(t.label)+"\n          ")])],1)}),1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:e.close_panel}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{disabled:e.is_busy,size:"mini",type:"primary"},on:{click:e.make_sure}},[e._v("确 定")])],1)])],1)},[],!1,null,"32ff68b8",null).exports),g=r("X4fA"),_={components:{versionDialog:f,syncInstructions:p},data:function(){var e=Object(g.a)();return{loading:!1,promotion_status:u.h,platforms:u.g,current_platform_type:"",current_promotion_status:"",version_block:[],total:0,page:1,page_size:e,page_sizes:i.T,show_dialog:!1,is_create:!0,version_id:0}},computed:{},mounted:function(){this.init_page()},methods:{init_page:function(){this.fetch_application_version_list()},search_appllication_versions:function(){this.page=1,this.page_size=Object(g.a)(),this.fetch_application_version_list()},change_promotion_status:function(e){this.search_appllication_versions()},change_promotion_platform:function(e){this.search_appllication_versions()},show_deploy_name:function(e){return-1!==["00","02"].indexOf(e.status)?"启动":"停止"},table_size_change:function(e){this.page_size=e,Object(g.d)(e),this.fetch_application_version_list()},change_current:function(e){this.page=e,this.fetch_application_version_list()},get_config:function(){return{page_no:this.page,page_num:this.page_size,platform:this.current_platform_type,status:this.current_promotion_status}},get_label_from_key_value_sets:function(e,t){var r="";return t.map(function(t){t.value===e&&(r=t.label)}),r},fetch_application_version_list:function(){var e=this,t=this.get_config();this.loading=!0,Object(o.S)(t).then(function(t){0===t.status?(e.version_block=t.data.map(function(t){var r=void 0;r=t.file_size?t.file_size+"MB":"";var n=e.get_label_from_key_value_sets(t.platform,u.g),o=e.get_label_from_key_value_sets(t.status,u.h),l=Object(s.b)(t.publish_time,i.o),c=Object(s.b)(t.stop_time,i.o);return a()({},t,{file_size_label:r,platform_label:n,status_label:o,publish_time_label:l,stop_time_label:c})}),e.total=t.total_count):e.$message.error(t.msg)}).finally(function(){e.loading=!1})},destory:function(e){e&&this.fetch_application_version_list(),this.show_dialog=!1},edit_app_version:function(e){this.show_dialog=!0,this.is_create=!1,this.record_id=e.version_id},prefer_deploy:function(e){var t=this,r=void 0;r="02"===("01"===e.status?"02":(e.status,"01"))?"确认是否停止本次应用升级？":"确认是否启动本次应用升级？",this.$confirm(r,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.prefer_deploy_action(e)}).catch(function(){t.$message({type:"info",message:"已取消操作!"})})},prefer_deploy_action:function(e){var t=this,r={status:"01"===e.status?"02":(e.status,"01"),version_id:e.version_id};Object(o.t)(r).then(function(e){0===e.status?t.fetch_application_version_list():t.$message.error(e.message)})},create_app_version:function(e){this.show_dialog=!0,this.is_create=!0,this.record_id=""},sync_version:function(){this.$refs.sync_panel.show_panel()}}},b=(r("OvEM"),Object(d.a)(_,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[r("div",{staticClass:"search-area"},[r("el-row",{staticClass:"row-bg",attrs:{gutter:10}},[r("el-col",{staticClass:"col-bg",attrs:{xs:12,sm:8,md:6,lg:6,xl:4}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-row",[r("el-col",{staticClass:"order-number-list",attrs:{span:8}},[e._v("状态:")]),e._v(" "),r("el-col",{attrs:{span:16}},[r("el-select",{attrs:{size:"mini",placeholder:"请选择状态",clearable:""},on:{change:e.change_promotion_status},model:{value:e.current_promotion_status,callback:function(t){e.current_promotion_status=t},expression:"current_promotion_status"}},e._l(e.promotion_status,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1)]),e._v(" "),r("el-col",{staticClass:"col-bg",attrs:{xs:12,sm:8,md:6,lg:6,xl:4}},[r("div",{staticClass:"grid-content bg-purple-light"},[r("el-row",[r("el-col",{staticClass:"order-number-list",attrs:{span:8}},[e._v("平台:")]),e._v(" "),r("el-col",{attrs:{span:16}},[r("el-select",{attrs:{size:"mini",placeholder:"请选择平台",clearable:""},on:{change:e.change_promotion_platform},model:{value:e.current_platform_type,callback:function(t){e.current_platform_type=t},expression:"current_platform_type"}},e._l(e.platforms,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1)]),e._v(" "),r("el-col",{staticClass:"col-bg layout-right col-right-button",attrs:{xs:24,sm:8,md:12,lg:12,xl:16}},[r("div",{staticClass:"grid-content bg-purple-light"},[r("el-row",[r("gl-button",{attrs:{pid:"20048",type:"success",size:"mini"},on:{click:e.sync_version}},[e._v("发送同步版本指令\n            ")]),e._v(" "),r("gl-button",{attrs:{pid:"20049",type:"success",size:"mini"},on:{click:e.create_app_version}},[e._v("创建应用升级策略\n            ")])],1)],1)])],1)],1),e._v(" "),r("div",{staticClass:"content-body"},[r("div",{staticClass:"table-block"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.version_block,size:"mini",stripe:""}},[r("el-table-column",{attrs:{label:"目标版本号",prop:"version"}}),e._v(" "),r("el-table-column",{attrs:{label:"升级策略名称",prop:"update_title"}}),e._v(" "),r("el-table-column",{attrs:{label:"包大小",prop:"file_size_label",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{label:"平台",prop:"platform_label",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{label:"启动时间",prop:"publish_time_label",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{label:"停止时间",prop:"stop_time_label",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{label:"状态",prop:"status_label",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",prop:"control",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("gl-button",{attrs:{pid:"20050",size:"small",type:"text"},on:{click:function(r){return e.edit_app_version(t.row)}}},[e._v("编辑")]),e._v(" "),r("gl-button",{attrs:{pid:"20051",size:"small",type:"text"},on:{click:function(r){return e.prefer_deploy(t.row)}}},[e._v(e._s(e.show_deploy_name(t.row))+"\n            ")])]}}])})],1),e._v(" "),r("el-pagination",{attrs:{"current-page":e.page,"page-size":e.page_size,"page-sizes":e.page_sizes,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"current-change":e.change_current,"size-change":e.table_size_change}})],1)]),e._v(" "),e.show_dialog?r("version-dialog",{attrs:{"show-dialog":e.show_dialog,"is-new":e.is_create,rid:e.record_id},on:{destory:e.destory}}):e._e(),e._v(" "),r("sync-instructions",{ref:"sync_panel"})],1)},[],!1,null,"5ae614b9",null));t.default=b.exports},Zkmf:function(e,t,r){"use strict";r.d(t,"a",function(){return m}),r.d(t,"b",function(){return p});var n,a,u=r("14Xm"),o=r.n(u),i=r("D3Ub"),l=r.n(i),s=r("+bwJ"),c=r("vDqi"),d=r.n(c),f=r("z0WU"),m=(n=l()(o.a.mark(function e(t){var r,n,a,u,i,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(t);case 2:return r=e.sent,n={hash:r},a={headers:{"Content-Type":"application/json"},baseURL:"/gelei-guard-bms/api"},u="/file/data/secondpass",i=Object(s.a)(n),l=JSON.parse(i),e.next=10,d.a.post(u,l,a);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),p=(a=l()(o.a.mark(function e(t){var r,n,a,u,i,l,c,m;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",t),e.next=4,Object(f.a)(t);case 4:for(m in n=e.sent,a={hash:n},u={headers:{"Content-Type":"multipart/form-data"},baseURL:"/gelei-guard-bms/api"},i=Object(s.a)(a),l="/file/data/upload",c=JSON.parse(i))r.append(m,c[m]);return e.next=13,d.a.post(l,r,u);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},ilBh:function(e,t,r){},iyha:function(e,t,r){},kkwS:function(e,t,r){"use strict";var n=r("iyha");r.n(n).a},z0WU:function(e,t,r){"use strict";r.d(t,"f",function(){return d}),r.d(t,"n",function(){return f}),r.d(t,"b",function(){return m}),r.d(t,"l",function(){return p}),r.d(t,"t",function(){return g}),r.d(t,"k",function(){return _}),r.d(t,"h",function(){return b}),r.d(t,"d",function(){return h}),r.d(t,"g",function(){return v}),r.d(t,"p",function(){return O}),r.d(t,"m",function(){return y}),r.d(t,"s",function(){return j}),r.d(t,"r",function(){return w}),r.d(t,"e",function(){return k}),r.d(t,"j",function(){return x}),r.d(t,"a",function(){return z}),r.d(t,"q",function(){return $}),r.d(t,"o",function(){return C}),r.d(t,"i",function(){return q}),r.d(t,"c",function(){return S});var n=r("4d7F"),a=r.n(n),u=(r("EJiy"),r("fs/A")),o=r("YP4+"),i=r("Wgwc"),l=r.n(i),s=r("NFKh"),c=r.n(s);function d(){return document.body.clientHeight&&document.documentElement.clientHeight?document.body.clientHeight<document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight:document.body.clientHeight>document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight}function f(){return Object(u.v1)().replace(/-/g,"").toUpperCase()}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.i,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e?l()(e).format(t):r?l()().format(t):e}function p(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=m(e,o.i),a=void 0;return a=t?n+" 00:00:00":n+" 23:59:59",r?new Date(a).getTime():a}function g(e){return["零","一","二","三","四","五","六","七","八","九","十"][+e]}function _(e){return"0"===e?"女":1==+e?"男":"不限"}function b(){var e={};return o.w.forEach(function(t,r,n){e[t.val]=t.name}),e}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"元";return(+e).toFixed(2)+t}function v(e){return b()[+e]}function O(e){return o.w.filter(function(t){return-1!==e.indexOf(t.val)}).map(function(e){return e.name})}function y(e){return function(e){var t={};return o.P.forEach(function(e,r,n){t[e.val]=e.name}),t}()[+e]}function j(e){return void 0===e?[]:o.P.filter(function(t){return-1!==e.indexOf(t.val)}).map(function(e){return e.name})}function w(e){return o.P.filter(function(t){return-1!==e.indexOf(t.name)}).map(function(e){return e.val})}function k(e,t){return"1"===e?-1!==["01","1"].indexOf(t)?"未生效":"生效中":-1!==["01","1"].indexOf(t)?"未推送":"已推送"}function x(e){return"1"===e?"系统推荐":"手动推荐"}function z(e){return new a.a(function(t){var r=new FileReader;r.readAsArrayBuffer(e),r.onload=function(e){var r=c.a.SHA256(function(e){for(var t=new Uint8Array(e),r=[],n=0;n<t.length;n+=4)r.push(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]);return c.a.lib.WordArray.create(r,t.length)}(e.target.result)).toString();t(r)}})}function $(e){for(var t in e)e[t]||delete e[t];return e}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1";if("1"===n){var a=t.filter(function(t){return t.value===e});if(a.length)return a[0].label}else if("2"===n){var u=t.filter(function(t){return t.val===e});if(u.length)return u[0].name}return r}function q(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e=window.location.hostname;return"https://"+(-1!==["g8ddev.dev.zhixike.net","g8dtes.dev.zhixike.net"].indexOf(e)?e:"greenguard-bms-beta.gwchina.cn"===e?"greenguard-h5-beta.gwchina.cn":"greenguard-bms.gwchina.cn"===e?"greenguard-h5.gwchina.cn":"g8ddev.dev.zhixike.net")}function S(e){var t=[];return function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=n.code||0;r.map(function(r){var n=r.children;delete r.children;var o=r;o.pcode=u,o.level=a,t.push(o),n.length&&e(n,r,a+1)})}(e),t}}}]);