(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2e9f"],{"5adC":function(t,e,n){},Ggcy:function(t,e,n){},"Oj+q":function(t,e,n){"use strict";var i=n("vzdh");n.n(i).a},S583:function(t,e,n){"use strict";n.d(e,"n",function(){return s}),n.d(e,"m",function(){return a}),n.d(e,"p",function(){return o}),n.d(e,"a",function(){return r}),n.d(e,"w",function(){return c}),n.d(e,"o",function(){return u}),n.d(e,"t",function(){return l}),n.d(e,"s",function(){return d}),n.d(e,"u",function(){return m}),n.d(e,"k",function(){return f}),n.d(e,"j",function(){return h}),n.d(e,"l",function(){return p}),n.d(e,"c",function(){return g}),n.d(e,"g",function(){return b}),n.d(e,"i",function(){return _}),n.d(e,"v",function(){return v}),n.d(e,"q",function(){return y}),n.d(e,"b",function(){return w}),n.d(e,"h",function(){return j}),n.d(e,"r",function(){return O}),n.d(e,"f",function(){return k}),n.d(e,"e",function(){return q}),n.d(e,"d",function(){return C});var i=n("t3Un");function s(t){return Object(i.a)({url:"/manager/user/patriarch/list",method:"post",data:t})}function a(t){return Object(i.a)({url:"/manager/user/patriarch/detail",method:"post",data:t})}function o(t){return Object(i.a)({url:"/manager/qa/list",method:"post",data:t})}function r(t){return Object(i.a)({url:"/manager/qa/add",method:"post",data:t})}function c(t){return Object(i.a)({url:"/manager/qa/edit",method:"post",data:t})}function u(t){return Object(i.a)({url:"/manager/qa/detail",method:"post",data:t})}function l(t){return Object(i.a)({url:"/manager/user/analyze/summary",method:"post",data:t})}function d(t){return Object(i.a)({url:"/manager/user/analyze/list",method:"post",data:t})}function m(t){return Object(i.a)({url:"/manager/user/analyze/increased",method:"post",data:t})}function f(t){return Object(i.a)({url:"/manager/user/analyze/increased/bind_user",method:"post",data:t})}function h(t){return Object(i.a)({url:"/manager/user/analyze/increased/bind_device",method:"post",data:t})}function p(t){return Object(i.a)({url:"/manager/soft/recommend/list",method:"post",data:t})}function g(t){return Object(i.a)({url:"/manager/soft/recommend/add",method:"post",data:t})}function b(t){return Object(i.a)({url:"/manager/soft/recommend/edit",method:"post",data:t})}function _(t){return Object(i.a)({url:"/manager/soft/recommend/delete",method:"post",data:t})}function v(t){return Object(i.a)({url:"/manager/soft/recommend/mark/search",method:"post",data:t})}function y(t){return Object(i.a)({url:"/manager/soft/recommend/group/list",method:"post",data:t})}function w(t){return Object(i.a)({url:"/manager/soft/recommend/group/add",method:"post",data:t})}function j(t){return Object(i.a)({url:"/manager/soft/recommend/group/delete",method:"post",data:t})}function O(t){return Object(i.a)({url:"/manager/soft/recommend/group/detail",method:"post",data:t})}function k(t){return Object(i.a)({url:"/manager/soft/recommend/group/edit",method:"post",data:t})}function q(t){return Object(i.a)({url:"/manager/soft/recommend/group/publish",method:"post",data:t})}function C(t){return Object(i.a)({url:"/manager/qa/publish",method:"post",data:t})}},VHZB:function(t,e,n){"use strict";var i=n("a8sJ");n.n(i).a},WfPe:function(t,e,n){"use strict";var i=n("Ggcy");n.n(i).a},a8sJ:function(t,e,n){},l51j:function(t,e,n){"use strict";n.r(e);var i=n("QbLZ"),s=n.n(i),a=n("gDS+"),o=n.n(a),r=n("4d7F"),c=n.n(r),u=n("GQeE"),l=n.n(u),d={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var t=this;return l()(this.listObj).every(function(e){return t.listObj[e].hasSuccess})},handleSubmit:function(){var t=this,e=l()(this.listObj).map(function(e){return t.listObj[e]});this.checkAllSuccess()?(this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！")},handleSuccess:function(t,e){for(var n=e.uid,i=l()(this.listObj),s=0,a=i.length;s<a;s++)if(this.listObj[i[s]].uid===n)return this.listObj[i[s]].url=t.files.file,void(this.listObj[i[s]].hasSuccess=!0)},handleRemove:function(t){for(var e=t.uid,n=l()(this.listObj),i=0,s=n.length;i<s;i++)if(this.listObj[n[i]].uid===e)return void delete this.listObj[n[i]]},beforeUpload:function(t){var e=this,n=window.URL||window.webkitURL,i=t.uid;return this.listObj[i]={},new c.a(function(s,a){var o=new Image;o.src=n.createObjectURL(t),o.onload=function(){e.listObj[i]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},s(!0)})}}},m=(n("WfPe"),n("KHd+")),f=Object(m.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-container"},[n("el-button",{style:{background:t.color,borderColor:t.color},attrs:{type:"primary",icon:"el-icon-upload",size:"mini"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("上传图片\n  ")]),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-upload",{staticClass:"editor-slide-upload",attrs:{"before-upload":t.beforeUpload,"file-list":t.fileList,multiple:!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"show-file-list":!0,action:"https://httpbin.org/post","list-type":"picture-card"}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1),t._v(" "),n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)],1)},[],!1,null,"4dfd1f67",null);f.options.__file="editorImage.vue";var h=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],p=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],g={name:"Tinymce",components:{editorImage:f.exports},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{language:function(){return this.languageTypeList[this.$store.getters.language]}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(e.tinymceId).setContent(t||"")})},language:function(){var t=this;this.destroyTinymce(),this.$nextTick(function(){return t.initTinymce()})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{initTinymce:function(){var t=this,e=this;window.tinymce.init({language:this.language,selector:"#"+this.tinymceId,height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:p,menubar:this.menubar,plugins:h,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(n){e.value&&n.setContent(e.value),e.hasInit=!0,n.on("NodeChange Change KeyUp SetContent",function(){t.hasChange=!0,t.$emit("input",n.getContent())})},setup:function(t){t.on("FullscreenStateChanged",function(t){e.fullscreen=t.state})}})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach(function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'+t.url+'" >')})}}},b=(n("VHZB"),Object(m.a)(g,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:this.fullscreen}},[e("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}}),this._v(" "),e("div",{staticClass:"editor-custom-btn-container"},[e("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:this.imageSuccessCBK}})],1)])},[],!1,null,"60b4d9ff",null));b.options.__file="index.vue";var _=b.exports,v=n("YP4+"),y=n("S583"),w={name:"",beforecreate:function(){},components:{Tinymce:_},props:{is_new:{type:Boolean,default:!0},rid:{type:String,default:""},information:{type:Object,default:function(){return{}}}},data:function(){return{visible:!0,min:v.q,max:v.p,form:{question:"",answer:"",weight:1},weight:1,rules:{question:[{required:!0,trigger:"blur",message:"帮助标题不能为空"}],answer:[{required:!0,trigger:"blur",message:"帮助内容不能为空"}],weight:[{required:!0,type:"number",trigger:"blur",min:v.q,max:v.p}]},weight_label:"权　　重"}},computed:{title:function(){return this.is_new?"添加帮助问题":"编辑帮助问题"}},watch:{},mounted:function(){!this.is_new&&this.load_data()},methods:{before_close:function(t){var e=this;this.$confirm("确认关闭？").then(function(t){e.visible=!1,e.$emit("destory")}).catch(function(t){})},save:function(){this.is_new?this.create_questions():this.edit_questions()},create_questions:function(){var t=this,e=this.form;Object(y.a)(e).then(function(e){0===e.status?(t.refresh(),t.$message.success(e.message)):t.$message.error(e.message)})},edit_questions:function(){var t=this,e=JSON.parse(o()(this.form));e.record_id=this.rid,Object(y.w)(e).then(function(e){0===e.status?(t.$message.success(e.message),t.refresh()):t.$message.error(e.message)})},refresh:function(){this.visible=!1,this.$emit("destory",!0)},cancel:function(){this.visible=!1,this.$emit("destory")},load_data:function(){var t=this,e={record_id:this.rid};Object(y.o)(e).then(function(e){t.form=e.data})}}},j=(n("v1Ye"),Object(m.a)(w,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-card"},[n("el-dialog",{staticStyle:{"min-width":"800px"},attrs:{"before-close":t.before_close,title:t.title,visible:t.visible,width:"50%"},on:{"update:visible":function(e){t.visible=e}}},[n("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px","label-suffix":":"}},[n("el-form-item",{attrs:{label:"帮助问题",prop:"question"}},[n("el-input",{model:{value:t.form.question,callback:function(e){t.$set(t.form,"question",e)},expression:"form.question"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"问题内容",prop:"answer"}},[n("tinymce",{attrs:{height:200},model:{value:t.form.answer,callback:function(e){t.$set(t.form,"answer",e)},expression:"form.answer"}})],1),t._v(" "),n("el-form-item",{attrs:{label:t.weight_label,prop:"weight"}},[n("el-input-number",{attrs:{max:t.max,min:t.min,"controls-position":"right"},model:{value:t.form.weight,callback:function(e){t.$set(t.form,"weight",e)},expression:"form.weight"}})],1)],1),t._v(" "),n("div",{staticClass:"button-block"},[n("div",{staticClass:"button-group"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.save}},[t._v("保 存")]),t._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.cancel}},[t._v("取 消")])],1)])],1)],1)},[],!1,null,"56807d9a",null));j.options.__file="questions.vue";var O={components:{questions:j.exports},data:function(){return{content:"格雷为您守护！",init:"",questions:[],page:1,page_size:v.e,total:0,is_create:!0,show_dialog:!1,deploy_name:"开启",record_id:""}},computed:{},mounted:function(){this.load_data()},methods:{show_deploy_name:function(t){return"1"===t.status?"关闭":"开启"},load_data:function(){this.fetch_question_list()},add_questions:function(){this.is_create=!0,this.show_dialog=!0},edit_questions:function(t){this.record_id=t.record_id,this.is_create=!1,this.show_dialog=!0},close_dialog:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.show_dialog=!1,t&&this.fetch_question_list()},prefer_deploy:function(t){var e=this,n={record_id:t.record_id};"0"===t.status?(n.published=!0,this.$confirm("确认是否发布？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(y.d)(n).then(function(t){200!==t.statusCode?(e.$message({type:"success",message:t.message}),e.load_data()):e.$message.error(t.message)})}).catch(function(){e.$message({type:"info",message:"已取消操作!"})})):(n.published=!1,this.$confirm("确认是否取消发布？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(y.d)(n).then(function(t){200!==t.statusCode?(e.$message({type:"success",message:t.message}),e.load_data()):e.$message.error(t.message)})}).catch(function(){e.$message({type:"info",message:"已取消操作!"})}))},table_size_change:function(t){this.page_size=t,this.fetch_question_list()},change_current:function(t){this.page=t,this.fetch_question_list()},get_config:function(){return{page_no:this.page,page_num:this.page_size}},show_status_label:function(t){return"0"===t?"未生效":"已生效"},fetch_question_list:function(){var t=this,e=this.get_config();Object(y.p)(e).then(function(n){var i=(e.page_no-1)*e.page_num+1,a=[];n.data.forEach(function(e,n,o){var r=t.show_status_label(e.status),c=s()({},e,{status_label:r,_id:i+n});a.push(c)}),t.questions=a,t.total=n.total_count})}}},k=(n("Oj+q"),Object(m.a)(O,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"header-line"},[n("div",{staticClass:"control-box"},[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.add_questions}},[t._v("添加帮助问题\n      ")])],1)]),t._v(" "),n("div",{staticClass:"content-body"},[n("div",{staticClass:"table-block"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.questions,size:"mini"}},[n("el-table-column",{attrs:{label:"序号",prop:"_id",width:"50"}}),t._v(" "),n("el-table-column",{attrs:{label:"帮助问题",prop:"question"}}),t._v(" "),n("el-table-column",{attrs:{label:"状态",prop:"status_label",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{label:"权重",prop:"weight",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",prop:"control",width:"260"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small",type:"text"},on:{click:function(n){t.edit_questions(e.row)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"text"},on:{click:function(n){t.prefer_deploy(e.row)}}},[t._v(t._s(t.show_deploy_name(e.row))+"\n            ")])]}}])})],1),t._v(" "),n("el-pagination",{attrs:{"current-page":t.page,"page-size":t.page_size,"page-sizes":[10,20,50,100],total:t.total,layout:"total, prev, pager, next, jumper"},on:{"current-change":t.change_current,"size-change":t.table_size_change}})],1),t._v(" "),t.show_dialog?n("questions",{attrs:{is_new:t.is_create,rid:t.record_id},on:{destory:t.close_dialog}}):t._e()],1)])},[],!1,null,"44060b50",null));k.options.__file="helper.vue";e.default=k.exports},v1Ye:function(t,e,n){"use strict";var i=n("5adC");n.n(i).a},vzdh:function(t,e,n){}}]);