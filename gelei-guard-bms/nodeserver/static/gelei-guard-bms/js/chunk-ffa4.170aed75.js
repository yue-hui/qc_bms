(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ffa4"],{11:function(t,n){},12:function(t,n){},13:function(t,n){},14:function(t,n){},"2RZ6":function(t,n,e){"use strict";var a=e("ub/C");e.n(a).a},"2w1v":function(t,n,e){"use strict";var a=e("a+ml");e.n(a).a},"6Bog":function(t,n,e){"use strict";e.r(n);var a=e("S583"),i=e("YP4+"),r={name:"StatisticsPannel",beforecreate:function(){},props:{},data:function(){return{statistics:{}}},computed:{},watch:{},mounted:function(){this.search()},methods:{judge_direction:function(t){return+t>=100?"upper":"down"},load_summary:function(t){var n=this;Object(a.t)(t).then(function(t){n.statistics=t.data})},search:function(){var t=(new Date).getTime()-i.d,n={begin_time:t,end_time:t};this.load_summary(n)}}},s=(e("wXBS"),e("KHd+")),c=Object(s.a)(r,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("整体数据指标(昨日)")])]),t._v(" "),e("div",{staticClass:"component-card"},[e("div",{staticClass:"row row-1"},[e("div",{staticClass:"column column-1"},[t._v("新增注册用户")]),t._v(" "),e("div",{staticClass:"column column-2"},[t._v(t._s(t.statistics.increased_user))]),t._v(" "),e("div",{staticClass:"column column-3"},[t._v("\n        日\n        "),e("svg-icon",{class:t.judge_direction(t.statistics.increased_user_percent),attrs:{"icon-class":t.judge_direction(t.statistics.increased_user_percent)}}),t._v("\n        "+t._s(t.statistics.increased_user_percent)+"%\n      ")],1)]),t._v(" "),e("div",{staticClass:"row row-2"},[e("div",{staticClass:"column column-1"},[t._v("新增绑定用户")]),t._v(" "),e("div",{staticClass:"column column-2"},[t._v(t._s(t.statistics.increased_bind_user))]),t._v(" "),e("div",{staticClass:"column column-3"},[t._v("\n        日\n        "),e("svg-icon",{class:t.judge_direction(t.statistics.increased_user_percent),attrs:{"icon-class":t.judge_direction(t.statistics.increased_bind_user_percent)}}),t._v("\n        "+t._s(t.statistics.increased_bind_user_percent)+"%\n      ")],1)]),t._v(" "),e("div",{staticClass:"row row-3"},[e("div",{staticClass:"column column-1"},[t._v("新增绑定设备")]),t._v(" "),e("div",{staticClass:"column column-2"},[t._v(t._s(t.statistics.increased_bind_device))]),t._v(" "),e("div",{staticClass:"column column-3"},[t._v("\n        日\n        "),e("svg-icon",{class:t.judge_direction(t.statistics.increased_user_percent),attrs:{"icon-class":t.judge_direction(t.statistics.increased_bind_device_percent)}}),t._v("\n        "+t._s(t.statistics.increased_bind_device_percent)+"%\n      ")],1)]),t._v(" "),e("div",{staticClass:"row row-4"},[e("div",{staticClass:"column column-1"},[t._v("总注册用户数")]),t._v(" "),e("div",{staticClass:"column column-2"},[t._v(t._s(t.statistics.total_user))]),t._v(" "),e("div",{staticClass:"column column-3"})])])])},[],!1,null,"0b2e544a",null);c.options.__file="statistics_pannel.vue";var o=c.exports,u={name:"Diagram",beforecreate:function(){},props:{condition:{type:Object,default:function(){return{}}}},data:function(){return{active_name:"1",options:{}}},computed:{},watch:{active_name:function(t){var n=this;this.$nextTick(function(e){n.$refs["chart"+t].echarts.resize()})}},mounted:function(){this.build_xzyh()},methods:{tab_change:function(t){"1"===this.active_name?this.build_xzyh():"2"===this.active_name?this.build_xzsb():"3"===this.active_name?this.build_bd_yh():console.error("error active name",this.active_name)},chart_events:function(t){},build_xzyh:function(){var t=this,n=this.condition;Object(a.u)(n).then(function(n){t.options={columns:["日期","新增注册用户"],rows:n.data.map(function(t){return{"日期":t.date,"新增注册用户":t.count}})}})},build_xzsb:function(){var t=this,n=this.condition;Object(a.k)(n).then(function(n){t.options={columns:["日期","新增绑定用户"],rows:n.data.map(function(t){return{"日期":t.date,"新增绑定用户":t.count}})}})},build_bd_yh:function(){var t=this,n=this.condition;Object(a.j)(n).then(function(n){t.options={columns:["日期","新增绑定设备"],rows:n.data.map(function(t){return{"日期":t.date,"新增绑定设备":t.count}})}})},search:function(){this.tab_change(this.active_name)}}},d=(e("2RZ6"),Object(s.a)(u,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"component-card"},[e("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.tab_change},model:{value:t.active_name,callback:function(n){t.active_name=n},expression:"active_name"}},[e("el-tab-pane",{attrs:{label:"新增注册用户",name:"1"}},[e("ve-line",{ref:"chart1",attrs:{data:t.options}})],1),t._v(" "),e("el-tab-pane",{attrs:{label:"新增绑定用户",name:"2"}},[e("ve-line",{ref:"chart2",attrs:{data:t.options}})],1),t._v(" "),e("el-tab-pane",{attrs:{label:"新增绑定设备",name:"3"}},[e("ve-line",{ref:"chart3",attrs:{data:t.options}})],1)],1)],1)},[],!1,null,"b8b1a4f6",null));d.options.__file="diagram.vue";var l=d.exports,_=e("QbLZ"),f=e.n(_),m=e("z0WU"),h={name:"",beforecreate:function(){},props:{condition:{type:Object,default:function(){return{}}}},data:function(){return{download_loading:!1,data_list:[],page:1,page_size:i.e,total:0,date_range:[]}},computed:{},watch:{},mounted:function(){this.fetch_user_analysis_details()},methods:{download:function(){var t=this;this.download_loading=!0;var n=f()({},this.condition,{page_no:1,page_num:this.total}),r=Object(m.a)(this.condition.begin_time),s=Object(m.a)(this.condition.end_time),c=void 0;c=r===s?[i.a,r].join("_"):[i.a,r,s].join("_"),Object(a.s)(n).then(function(n){var a=n.data;Promise.all([e.e("chunk-007d"),e.e("chunk-1f1f")]).then(e.bind(null,"hTCZ")).then(function(n){var e={header:["时间","新增注册用户","新增绑定用户","新增绑定设备","绑定设备总数","绑定用户总数","总注册用户数"],data:t.formatJson(["date","increased_user","increased_bind_user","increased_bind_device","total_bind_device","total_bind_user","total_user"],a),filename:c,autoWidth:!0,bookType:"xlsx"};n.export_json_to_excel(e),t.download_loading=!1})}).finally(function(){t.download_loading=!1})},formatJson:function(t,n){return n.map(function(n){return t.map(function(t){return n[t]})})},table_size_change:function(t){this.page_size=t,this.fetch_user_analysis_details()},change_current:function(t){this.page=t,this.fetch_user_analysis_details()},get_options:function(){var t={page_no:this.page,page_num:this.page_size};return this.condition.begin_time&&(t.begin_time=new Date(this.condition.begin_time).getTime()),this.condition.end_time&&(t.end_time=new Date(this.condition.end_time).getTime()),t},load_details:function(){this.fetch_user_analysis_details()},search:function(){this.page=1,this.page_size=i.e,this.fetch_user_analysis_details()},fetch_user_analysis_details:function(){var t=this,n=this.get_options();Object(a.s)(n).then(function(n){t.data_list=n.data,t.total=n.total_count})}}},v=(e("Oqd/"),e("2w1v"),Object(s.a)(h,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("div",{staticClass:"card-header-content"},[e("span",[t._v("详细数据")]),t._v(" "),e("el-button",{staticClass:"download",attrs:{loading:t.download_loading,size:"mini",type:"success"},on:{click:t.download}},[t._v("导出\n        "),e("svg-icon",{attrs:{"icon-class":"download"}})],1)],1)]),t._v(" "),e("div",[e("div",{staticClass:"table-block"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.data_list,size:"mini"}},[e("el-table-column",{attrs:{align:"center",label:"时间",prop:"date"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"新增注册用户",prop:"increased_user"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"新增绑定用户",prop:"increased_bind_user"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"新增绑定设备",prop:"increased_bind_device"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"当前绑定设备数",prop:"cur_total_bind_device"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"绑定设备总数",prop:"total_bind_device"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"当前绑定用户总数\t",prop:"cur_total_bind_user"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"累计绑定用户总数",prop:"total_bind_user"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"总注册用户数",prop:"total_user"}})],1),t._v(" "),e("el-pagination",{attrs:{"current-page":t.page,"page-size":t.page_size,"page-sizes":[100,200,300,400],total:t.total,layout:"total, prev, pager, next, jumper"},on:{"current-change":t.change_current,"size-change":t.table_size_change}})],1)])])},[],!1,null,"e7df5da8",null));v.options.__file="details.vue";var p=v.exports,b=e("Wgwc"),g=e.n(b),j={components:{statisticsPannel:o,diagram:l,statics_details:p},data:function(){return{datetime_range:[],condition:{}}},computed:{},create:function(){},mounted:function(){this.init_data(),this.load_data()},methods:{init_data:function(){var t=g()().subtract(1,"month").subtract(1,"day").valueOf(),n=g()().subtract(1,"day").valueOf();this.datetime_range=[t,n],this.condition={begin_time:t,end_time:n}},date_range_change:function(t){var n=this;this.condition={begin_time:this.datetime_range[0].getTime(),end_time:this.datetime_range[1].getTime()},this.$nextTick(function(){n.search()})},get_config:function(){return{begin_time:this.datetime_range[0].getTime(),end_time:this.datetime_range[1].getTime()}},search:function(){this.load_data()},load_data:function(){this.$refs.diagram.search(),this.$refs.details.search()}}},O=(e("t2Et"),Object(s.a)(j,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"content"},[e("div",{staticClass:"header-line"},[e("div",{staticClass:"header-line-left"},[e("div",{staticClass:"header-block search-time"},[e("label",{staticClass:"search-item"},[t._v("时间范围:")]),t._v(" "),e("div",{staticClass:"block"},[e("el-date-picker",{attrs:{"end-placeholder":"结束日期","range-separator":"至","start-placeholder":"开始日期",type:"daterange","unlink-panels":"",size:"mini"},on:{change:t.date_range_change},model:{value:t.datetime_range,callback:function(n){t.datetime_range=n},expression:"datetime_range"}})],1)])])]),t._v(" "),e("div",{staticClass:"content-body"},[e("div",{staticClass:"statistics-summary"},[e("statistics-pannel",{ref:"summary"})],1),t._v(" "),e("hr",{staticClass:"hr-diviser"}),t._v(" "),e("div",{staticClass:"statistics-diagram"},[e("diagram",{ref:"diagram",attrs:{condition:t.condition}})],1),t._v(" "),e("hr",{staticClass:"hr-diviser"}),t._v(" "),e("statics_details",{ref:"details",attrs:{condition:t.condition}})],1)])},[],!1,null,"dafbbb26",null));O.options.__file="index.vue";n.default=O.exports},E51o:function(t,n,e){},FVH7:function(t,n,e){},"Oqd/":function(t,n,e){"use strict";var a=e("E51o");e.n(a).a},S583:function(t,n,e){"use strict";e.d(n,"n",function(){return i}),e.d(n,"m",function(){return r}),e.d(n,"p",function(){return s}),e.d(n,"a",function(){return c}),e.d(n,"w",function(){return o}),e.d(n,"o",function(){return u}),e.d(n,"t",function(){return d}),e.d(n,"s",function(){return l}),e.d(n,"u",function(){return _}),e.d(n,"k",function(){return f}),e.d(n,"j",function(){return m}),e.d(n,"l",function(){return h}),e.d(n,"c",function(){return v}),e.d(n,"g",function(){return p}),e.d(n,"i",function(){return b}),e.d(n,"v",function(){return g}),e.d(n,"q",function(){return j}),e.d(n,"b",function(){return O}),e.d(n,"h",function(){return w}),e.d(n,"r",function(){return C}),e.d(n,"f",function(){return y}),e.d(n,"e",function(){return x}),e.d(n,"d",function(){return z});var a=e("t3Un");function i(t){return Object(a.a)({url:"/manager/user/patriarch/list",method:"post",data:t})}function r(t){return Object(a.a)({url:"/manager/user/patriarch/detail",method:"post",data:t})}function s(t){return Object(a.a)({url:"/manager/qa/list",method:"post",data:t})}function c(t){return Object(a.a)({url:"/manager/qa/add",method:"post",data:t})}function o(t){return Object(a.a)({url:"/manager/qa/edit",method:"post",data:t})}function u(t){return Object(a.a)({url:"/manager/qa/detail",method:"post",data:t})}function d(t){return Object(a.a)({url:"/manager/user/analyze/summary",method:"post",data:t})}function l(t){return Object(a.a)({url:"/manager/user/analyze/list",method:"post",data:t})}function _(t){return Object(a.a)({url:"/manager/user/analyze/increased",method:"post",data:t})}function f(t){return Object(a.a)({url:"/manager/user/analyze/increased/bind_user",method:"post",data:t})}function m(t){return Object(a.a)({url:"/manager/user/analyze/increased/bind_device",method:"post",data:t})}function h(t){return Object(a.a)({url:"/manager/soft/recommend/list",method:"post",data:t})}function v(t){return Object(a.a)({url:"/manager/soft/recommend/add",method:"post",data:t})}function p(t){return Object(a.a)({url:"/manager/soft/recommend/edit",method:"post",data:t})}function b(t){return Object(a.a)({url:"/manager/soft/recommend/delete",method:"post",data:t})}function g(t){return Object(a.a)({url:"/manager/soft/recommend/mark/search",method:"post",data:t})}function j(t){return Object(a.a)({url:"/manager/soft/recommend/group/list",method:"post",data:t})}function O(t){return Object(a.a)({url:"/manager/soft/recommend/group/add",method:"post",data:t})}function w(t){return Object(a.a)({url:"/manager/soft/recommend/group/delete",method:"post",data:t})}function C(t){return Object(a.a)({url:"/manager/soft/recommend/group/detail",method:"post",data:t})}function y(t){return Object(a.a)({url:"/manager/soft/recommend/group/edit",method:"post",data:t})}function x(t){return Object(a.a)({url:"/manager/soft/recommend/group/publish",method:"post",data:t})}function z(t){return Object(a.a)({url:"/manager/qa/publish",method:"post",data:t})}},"a+ml":function(t,n,e){},hff2:function(t,n,e){},t2Et:function(t,n,e){"use strict";var a=e("FVH7");e.n(a).a},"ub/C":function(t,n,e){},wXBS:function(t,n,e){"use strict";var a=e("hff2");e.n(a).a},z0WU:function(t,n,e){"use strict";e.d(n,"g",function(){return c}),e.d(n,"a",function(){return o}),e.d(n,"k",function(){return u}),e.d(n,"e",function(){return d}),e.d(n,"c",function(){return l}),e.d(n,"h",function(){return _}),e.d(n,"f",function(){return f}),e.d(n,"j",function(){return m}),e.d(n,"i",function(){return h}),e.d(n,"b",function(){return v}),e.d(n,"d",function(){return p});var a=e("fs/A"),i=e("YP4+"),r=e("Wgwc"),s=e.n(r);function c(){return Object(a.v1)().replace(/-/g,"").toUpperCase()}function o(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.b;return(t?s()(t):s()()).format(n)}function u(t){return["零","一","二","三","四","五","六","七","八","九","十"][+t]}function d(t){return"0"===t?"女":1==+t?"男":"不限"}function l(t){return function(){var t={};return i.f.forEach(function(n,e,a){t[n.val]=n.name}),t}()[+t]}function _(t){return i.f.filter(function(n){return-1!==t.indexOf(n.val)}).map(function(t){return t.name})}function f(t){return function(t){var n={};return i.l.forEach(function(t,e,a){n[t.val]=t.name}),n}()[+t]}function m(t){return i.l.filter(function(n){return-1!==t.indexOf(n.val)}).map(function(t){return t.name})}function h(t){return i.l.filter(function(n){return-1!==t.indexOf(n.name)}).map(function(t){return t.val})}function v(t,n){return"1"===t?-1!==["01","1"].indexOf(n)?"未生效":"生效中":-1!==["01","1"].indexOf(n)?"未推送":"已推送"}function p(t){return"1"===t?"系统推荐":"手动推荐"}}}]);